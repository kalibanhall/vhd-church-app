# MyChurchApp - Application Android

## ğŸ“± Vue d'ensemble

Application Android native pour MyChurchApp, partageant la mÃªme base de donnÃ©es PostgreSQL que l'application web Next.js. Les utilisateurs peuvent crÃ©er un compte sur le web et l'utiliser directement sur mobile.

## ğŸ¯ FonctionnalitÃ©s (196 fonctionnalitÃ©s - 16 modules)

### 1ï¸âƒ£ Gestion des Membres (15 fonctionnalitÃ©s)
- Inscription, profil et photo
- Historique de participation
- Gestion des familles
- Groupes et dÃ©partements
- Suivi des prÃ©sences
- Carte numÃ©rique du membre
- Annuaire interne
- Gestion des anniversaires
- Communications ciblÃ©es
- Statistiques de croissance
- Exports
- Notifications personnalisÃ©es
- Suivi nouveaux membres
- Tableau de prÃ©sence individuel

### 2ï¸âƒ£ Gestion FinanciÃ¨re (12 fonctionnalitÃ©s)
- Enregistrement dons et dÃ®mes
- Projets et campagnes
- ReÃ§us fiscaux automatiques
- Rapports mensuels/annuels
- Suivi budget
- DÃ©penses catÃ©gorisÃ©es
- Tableaux de bord financiers
- Historique transactions
- PrÃ©visions
- Export Excel/CSV
- Alertes budget
- Graphiques flux

### 3ï¸âƒ£ Ã‰vÃ©nements & Rendez-vous (10 fonctionnalitÃ©s)
- CrÃ©ation/gestion Ã©vÃ©nements
- Inscriptions en ligne
- Calendrier synchronisÃ©
- RÃ©servations salles
- Rappels automatiques
- Check-in Ã©vÃ©nementiel
- Statistiques participation
- RÃ©currences
- Liste participants
- IntÃ©gration calendrier

### 4ï¸âƒ£ PrÃ©dications & MÃ©dias (14 fonctionnalitÃ©s)
- Upload audio/vidÃ©o
- Streaming intÃ©grÃ©
- TÃ©lÃ©chargement hors ligne
- SÃ©ries et thÃ¨mes
- Recherche avancÃ©e
- Partage rÃ©seaux sociaux
- Podcast RSS
- Sous-titres
- Statistiques d'Ã©coute
- Playlists
- Gestion vignettes
- Traductions
- Archivage
- Classement par impact

### 5ï¸âƒ£ PriÃ¨res & TÃ©moignages (8 fonctionnalitÃ©s)
- Demandes de priÃ¨re
- Mur communautaire
- Notifications
- Suivi priÃ¨res exaucÃ©es
- Partage tÃ©moignages
- ModÃ©ration
- CatÃ©gories
- Statistiques

### 6ï¸âƒ£ Messagerie & Chat (12 fonctionnalitÃ©s)
- Chat temps rÃ©el
- Messages privÃ©s
- Groupes thÃ©matiques
- Notifications push
- Historique
- Partage fichiers
- Ã‰mojis et rÃ©actions
- Statuts online/offline
- Recherche messages
- ModÃ©ration
- Audio/vidÃ©o
- Messagerie inter-dÃ©partements

### 7ï¸âƒ£ Tableau de Bord & Analytics (15 fonctionnalitÃ©s)
- Dashboard admin
- KPIs temps rÃ©el
- Graphiques croissance
- Rapports dons/prÃ©sences
- Analyse dÃ©mographique
- PrÃ©visions
- Comparaisons annuelles
- Heatmaps
- Exports PDF/Excel/CSV
- Rapports automatiques
- Alertes intelligentes
- Tableaux personnalisÃ©s
- Indicateurs ponctualitÃ©
- Segmentation groupes
- Statistiques engagement

### 8ï¸âƒ£ Administration (18 fonctionnalitÃ©s)
- Gestion utilisateurs/rÃ´les
- Permissions dÃ©taillÃ©es
- Personnel pastoral
- Configuration Ã©glise
- Personnalisation UI
- Sauvegardes
- SÃ©curitÃ©
- Logs audit
- Notifications
- SMTP
- Multilingue
- RGPD
- Support technique
- Documentation
- Performance
- Versions
- Historique
- Multi-sites

### 9ï¸âƒ£ Mobile & PWA (10 fonctionnalitÃ©s)
- Mode hors ligne
- Notifications push natives
- Interface optimisÃ©e
- Synchronisation auto
- Scan QR codes
- GÃ©olocalisation
- AccÃ¨s cultes online
- CamÃ©ra & galerie
- Installation home screen
- PWA complÃ¨te

### ğŸ”Ÿ SÃ©curitÃ© & Authentification (8 fonctionnalitÃ©s)
- JWT
- 2FA
- Chiffrement complet
- Gestion sessions
- Mots de passe forts
- Protection CSRF/XSS
- SSL/TLS
- DÃ©tection connexions suspectes

### 11ï¸âƒ£ Rapports & Exports (12 fonctionnalitÃ©s)
- Rapports membres/dons
- Rapports prÃ©sence/Ã©vÃ©nements
- CSV personnalisÃ©s
- AutomatisÃ©s
- Comparaisons temporelles
- Statistiques tÃ©lÃ©chargements
- Suivi croissance
- Email rapports
- PDF formatÃ©s
- SynthÃ¨se
- Engagement
- Historique

### 12ï¸âƒ£ IntÃ©grations & API (16 fonctionnalitÃ©s)
- API REST
- Webhooks
- PayPal/Stripe/M-Pesa/Orange Money
- OAuth Google/Facebook
- Zoom/YouTube Live
- Facebook Live
- SMS Gateway (Twilio)
- Mailchimp
- Google Calendar
- Import/Export
- Partage rÃ©seaux sociaux
- Documentation API
- Authentification externe
- Statistiques API
- CRM

### 13ï¸âƒ£ Personnalisation & Branding (8 fonctionnalitÃ©s)
- ThÃ¨mes couleurs
- Logo & banniÃ¨res
- Domaines personnalisÃ©s
- Templates emails
- Pages personnalisÃ©es
- Widgets
- Polices
- Multimarque

### 14ï¸âƒ£ Workflows & Automatisation (10 fonctionnalitÃ©s)
- Rappels auto
- Emails bienvenue
- Suivi visiteurs
- Anniversaires
- Approbation
- Validation tÃ©moignages
- Rappels dons
- Rapports auto
- CRM via API
- Notifications personnalisÃ©es

### 15ï¸âƒ£ Maintenance & Support (12 fonctionnalitÃ©s)
- Monitoring
- Logs systÃ¨me
- Gestion erreurs
- Health checks
- Mises Ã  jour
- Tickets
- Chat support
- Base connaissances
- Tutoriels vidÃ©o
- FAQ
- Feedback
- Journal updates

### 16ï¸âƒ£ Reconnaissance Faciale & PrÃ©sence Intelligente (16 fonctionnalitÃ©s)
- Capture faciale
- Validation sÃ©curisÃ©e
- Multi-visages (famille)
- Suppression
- Check-in automatique
- Dashboard temps rÃ©el
- Multi-services
- Mode manuel
- Check-in vidÃ©o online
- Statistiques hybrides
- Anti-fraude
- Certificats prÃ©sence
- Chiffrement E2E
- Consentement explicite
- RGPD
- DÃ©tection anomalies

## ğŸ—ï¸ Architecture Technique

### Stack Android
- **Langage**: Kotlin 1.9+
- **UI**: Jetpack Compose
- **Architecture**: MVVM + Clean Architecture
- **DI**: Hilt/Dagger
- **Async**: Coroutines + Flow
- **Navigation**: Jetpack Navigation Compose
- **Network**: Retrofit + OkHttp
- **SÃ©rialisation**: Kotlinx Serialization / Moshi
- **Base locale**: Room (cache offline)
- **Images**: Coil
- **Permissions**: Accompanist Permissions
- **Notifications**: Firebase Cloud Messaging
- **Reconnaissance faciale**: ML Kit Face Detection + TensorFlow Lite
- **CamÃ©ra**: CameraX
- **MÃ©dias**: ExoPlayer
- **Paiements**: Stripe SDK, PayPal SDK
- **Analytics**: Firebase Analytics
- **Crash Reporting**: Firebase Crashlytics

### Architecture en couches
```
ğŸ“± Presentation Layer (Composables + ViewModels)
    â†“
ğŸ’¼ Domain Layer (UseCases + Repositories interfaces)
    â†“
ğŸ“Š Data Layer (Repositories impl + API + Local DB)
```

### Synchronisation avec le backend
- **API Base URL**: Configurable (dev/prod)
- **Authentification**: JWT tokens (compatible avec Next.js API)
- **Refresh tokens**: Gestion automatique
- **Cache offline**: Room + WorkManager pour sync
- **Conflict resolution**: Last-write-wins par dÃ©faut

## ğŸ“ Structure du projet

```
android-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/mychurchapp/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ di/              # Dependency Injection
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/            # Data layer
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api/         # Retrofit interfaces
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ local/       # Room database
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ models/      # DTOs & Entities
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repository/  # Repository implementations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/          # Domain layer
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ models/      # Domain models
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/  # Repository interfaces
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ usecases/    # Business logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ presentation/    # Presentation layer
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/        # Login, Register, etc.
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ members/     # Module Membres
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ donations/   # Module Finances
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ events/      # Module Ã‰vÃ©nements
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sermons/     # Module PrÃ©dications
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ prayers/     # Module PriÃ¨res
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat/        # Module Messagerie
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/   # Module Analytics
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ admin/       # Module Administration
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ facial/      # Module Reconnaissance Faciale
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ common/      # Composants rÃ©utilisables
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ utils/           # Utilities
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MyChurchApp.kt   # Application class
â”‚   â”‚   â”‚   â”œâ”€â”€ res/                 # Resources
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â””â”€â”€ test/                    # Tests unitaires
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â””â”€â”€ proguard-rules.pro
â”œâ”€â”€ gradle/
â”œâ”€â”€ build.gradle.kts
â”œâ”€â”€ settings.gradle.kts
â”œâ”€â”€ gradle.properties
â””â”€â”€ README.md
```

## ğŸš€ Installation & Configuration

### PrÃ©requis
- Android Studio Hedgehog (2023.1.1) ou supÃ©rieur
- JDK 17+
- Android SDK 34
- Compte Firebase (pour notifications)
- ClÃ©s API (Stripe, PayPal, etc.)

### Ã‰tapes d'installation

1. **Cloner le projet**
```bash
cd android-app
```

2. **Configurer les clÃ©s API**
CrÃ©er `local.properties` :
```properties
sdk.dir=C\:\\Users\\USERNAME\\AppData\\Local\\Android\\Sdk
api.base.url=https://your-api-domain.com/api
api.base.url.dev=http://localhost:3000/api
stripe.publishable.key=pk_test_xxxxx
paypal.client.id=xxxxx
google.maps.api.key=xxxxx
```

3. **Configurer Firebase**
- TÃ©lÃ©charger `google-services.json` depuis Firebase Console
- Placer dans `app/google-services.json`

4. **Build le projet**
```bash
./gradlew assembleDebug
```

5. **Lancer sur Ã©mulateur/device**
```bash
./gradlew installDebug
```

## ğŸ” Authentification

L'application utilise JWT tokens compatibles avec l'API Next.js :

1. Login â†’ API `/api/auth/login` â†’ Retourne `accessToken` + `refreshToken`
2. Stockage sÃ©curisÃ© dans EncryptedSharedPreferences
3. Interceptor Retrofit ajoute `Authorization: Bearer {token}` automatiquement
4. Refresh automatique si 401 Unauthorized

## ğŸ“¡ API Endpoints utilisÃ©s

```kotlin
// Auth
POST /api/auth/register
POST /api/auth/login
GET  /api/auth/me
POST /api/auth/forgot-password
POST /api/auth/reset-password

// Members
GET    /api/members
GET    /api/members/{id}
POST   /api/members
PUT    /api/members/{id}
DELETE /api/members/{id}

// Donations
GET    /api/donations
POST   /api/donations
GET    /api/donations/stats

// Events
GET    /api/events
POST   /api/events
GET    /api/events/{id}
POST   /api/events/{id}/attend

// Sermons
GET    /api/sermons
POST   /api/sermons
GET    /api/sermons/{id}
POST   /api/sermons/{id}/view

// Prayers
GET    /api/prayers
POST   /api/prayers
POST   /api/prayers/{id}/support

// Testimonies
GET    /api/testimonies
POST   /api/testimonies
POST   /api/testimonies/{id}/like
POST   /api/testimonies/{id}/comment

// Chat
GET    /api/chat/channels
GET    /api/chat/channels/{id}/messages
POST   /api/chat/channels/{id}/messages
WebSocket /api/chat/ws

// Dashboard
GET    /api/dashboard/stats
GET    /api/dashboard/analytics

// Admin
GET    /api/admin/users
PUT    /api/admin/users/{id}/role
GET    /api/admin/logs

// Facial Recognition
POST   /api/facial/register
POST   /api/facial/check-in
GET    /api/facial/attendance
```

## ğŸ¨ Design System

- **Material Design 3** (Material You)
- **ThÃ¨me personnalisable** par Ã©glise
- **Mode sombre/clair**
- **Couleurs primaires**: Configurables
- **Typographie**: Roboto / Montserrat
- **Iconographie**: Material Icons + Custom

## ğŸ“± Ã‰crans principaux

1. **Splash Screen** â†’ VÃ©rification auth
2. **Onboarding** (premiÃ¨re installation)
3. **Login/Register**
4. **Dashboard** (Home)
5. **Profil Membre**
6. **Liste Membres**
7. **Donations**
8. **Calendrier Ã‰vÃ©nements**
9. **Liste PrÃ©dications**
10. **Lecteur MÃ©dias**
11. **PriÃ¨res & TÃ©moignages**
12. **Messagerie**
13. **Analytics Admin**
14. **ParamÃ¨tres**
15. **Reconnaissance Faciale**

## ğŸ”” Notifications Push

- **Firebase Cloud Messaging**
- Types de notifications :
  - Nouveaux Ã©vÃ©nements
  - Rappels rendez-vous
  - Nouvelles prÃ©dications
  - Demandes de priÃ¨re
  - Messages chat
  - Anniversaires
  - Alertes admin

## ğŸ“´ Mode Hors Ligne

- **StratÃ©gie de cache** :
  - Room DB pour donnÃ©es essentielles
  - WorkManager pour synchronisation diffÃ©rÃ©e
  - DÃ©tection rÃ©seau automatique
  - Queue de requÃªtes en attente

## ğŸ§ª Tests

```bash
# Tests unitaires
./gradlew test

# Tests instrumentÃ©s
./gradlew connectedAndroidTest

# Tests UI
./gradlew connectedDebugAndroidTest
```

## ğŸ“¦ Build & Release

### Version Debug
```bash
./gradlew assembleDebug
```

### Version Release (signÃ©e)
```bash
./gradlew bundleRelease
```

### Upload sur Play Store
1. CrÃ©er un App Bundle (`.aab`)
2. Upload via Play Console
3. Configuration listing
4. Soumission pour review

## ğŸŒ Multilingue

- FranÃ§ais (fr)
- Anglais (en)
- Portugais (pt)
- Swahili (sw)

Fichiers : `res/values-{locale}/strings.xml`

## ğŸ›¡ï¸ SÃ©curitÃ©

- **Obfuscation** : ProGuard/R8
- **Certificate Pinning** : OkHttp
- **Root Detection** : SafetyNet API
- **Encrypted Storage** : EncryptedSharedPreferences
- **BiomÃ©trie** : BiometricPrompt API
- **HTTPS Only**
- **Input Validation**
- **SQL Injection Prevention** (Room)

## ğŸ“¸ Reconnaissance Faciale

### Technologies
- **ML Kit Face Detection**
- **TensorFlow Lite** (modÃ¨le personnalisÃ©)
- **CameraX** (capture)

### Workflow
1. Capture photo profil â†’ Extraction embeddings
2. Stockage chiffrÃ© embeddings
3. Check-in â†’ Capture temps rÃ©el
4. Comparaison embeddings
5. Validation + Enregistrement prÃ©sence
6. Dashboard temps rÃ©el

### RGPD
- Consentement explicite
- Droit suppression
- Chiffrement E2E
- Audit trail
- Transparence algorithmes

## ğŸ¤ Contribution

1. Fork le projet
2. CrÃ©er une branche (`git checkout -b feature/AmazingFeature`)
3. Commit (`git commit -m 'Add AmazingFeature'`)
4. Push (`git push origin feature/AmazingFeature`)
5. Ouvrir une Pull Request

## ğŸ“„ Licence

Copyright Â© 2025 MyChurchApp - Tous droits rÃ©servÃ©s

## ğŸ‘¨â€ğŸ’» Auteur

**CHRIS NGOZULU KASONGO (KalibanHall)**
- GitHub: [@KalibanHall](https://github.com/KalibanHall)

## ğŸ“ Support

- Email: support@mychurchapp.com
- Documentation: https://docs.mychurchapp.com
- CommunautÃ©: https://community.mychurchapp.com

---

**ğŸ¯ Une seule plateforme. Toute votre Ã©glise. ZÃ©ro complexitÃ©.**
